<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1251px" preserveAspectRatio="none" style="width:602px;height:1251px;background:#AAAAFF;" version="1.1" viewBox="0 0 602 1251" width="602px" zoomAndPan="magnify"><defs><linearGradient id="gestpxh9yoauy0" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#AAAAFF"/><stop offset="100%" stop-color="#FFFFFF"/></linearGradient><filter height="300%" id="festpxh9yoauy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter><linearGradient id="gestpxh9yoauy1" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#008000"/></linearGradient><linearGradient id="gestpxh9yoauy2" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#FF0000"/></linearGradient><linearGradient id="gestpxh9yoauy3" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#AAAAFF"/></linearGradient></defs><g><rect fill="url(#gestpxh9yoauy0)" height="1251" style="stroke:none;stroke-width:1.0;" width="602" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="291" x="154.5" y="26.708">Debounced button as LED toggle</text><ellipse cx="353.5" cy="40.9531" fill="#000000" filter="url(#festpxh9yoauy)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="url(#gestpxh9yoauy0)" filter="url(#festpxh9yoauy)" height="252.8906" style="stroke:#000000;stroke-width:2.0;" width="386.5" x="20.5" y="60.9531"/><path d="M50.5,60.9531 L50.5,70.25 L40.5,80.25 L20.5,80.25 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="23.5" y="74.9482">init</text><path d="M30.5,90.25 L30.5,206.1797 A0,0 0 0 0 30.5,206.1797 L294.5,206.1797 A0,0 0 0 0 294.5,206.1797 L294.5,152.2148 L314.5,148.2148 L294.5,144.2148 L294.5,100.25 L284.5,90.25 L30.5,90.25 A0,0 0 0 0 30.5,90.25 " fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M284.5,90.25 L284.5,100.25 L294.5,100.25 L284.5,90.25 " fill="url(#gestpxh9yoauy1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="36.5" y="107.3169">const int buttonPin = 2;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="36.5" y="122.4497">const int ledPin = 13;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="36.5" y="137.5825">int ledState = HIGH;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="36.5" y="152.7153">int buttonState;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="36.5" y="167.8481">int lastButtonState = LOW;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="36.5" y="182.981">unsigned long lastDebounceTime = 0;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="36.5" y="198.1138">unsigned long debounceDelay = 50;</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="78" x="314.5" y="131.2305"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="324.5" y="152.3691">Variables</text><path d="M77,216.1797 L77,301.8438 A0,0 0 0 0 77,301.8438 L290,301.8438 A0,0 0 0 0 290,301.8438 L290,263.0117 L310,259.0117 L290,255.0117 L290,226.1797 L280,216.1797 L77,216.1797 A0,0 0 0 0 77,216.1797 " fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M280,216.1797 L280,226.1797 L290,226.1797 L280,216.1797 " fill="url(#gestpxh9yoauy1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="83" y="233.2466">void setup() {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="91" y="248.3794">pinMode(buttonPin, INPUT);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="91" y="263.5122">pinMode(ledPin, OUTPUT);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="91" y="278.645">digitalWrite(ledPin, ledState);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="83" y="293.7778">}</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="87" x="310" y="242.0273"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="320" y="263.166">Void setup</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="247" x="230" y="377.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="227" x="240" y="398.9824">int reading = digitalRead(buttonPin)</text><rect fill="url(#gestpxh9yoauy0)" filter="url(#festpxh9yoauy)" height="174.668" style="stroke:#000000;stroke-width:2.0;" width="461" x="21.5" y="421.8125"/><path d="M66.5,421.8125 L66.5,431.1094 L56.5,441.1094 L21.5,441.1094 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="24.5" y="435.8076">timer</text><path d="M41.5,510.9297 L41.5,536.0625 A0,0 0 0 0 41.5,536.0625 L236.5,536.0625 A0,0 0 0 0 236.5,536.0625 L236.5,528.9297 L256.5,523.4961 L236.5,520.9297 L236.5,520.9297 L226.5,510.9297 L41.5,510.9297 A0,0 0 0 0 41.5,510.9297 " fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M226.5,510.9297 L226.5,520.9297 L236.5,520.9297 L226.5,510.9297 " fill="url(#gestpxh9yoauy1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="47.5" y="527.9966">reset the debouncing timer</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="194" x="256.5" y="506.5117"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="266.5" y="527.6504">lastDebounceTime = millis()</text><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="273.5,458.1094,433.5,458.1094,445.5,470.1094,433.5,482.1094,273.5,482.1094,261.5,470.1094,273.5,458.1094" style="stroke:#A80036;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="357.5" y="492.3198">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="273.5" y="473.9175">if reading != lastbuttonstate</text><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="353.5,560.4805,365.5,572.4805,353.5,584.4805,341.5,572.4805,353.5,560.4805" style="stroke:#A80036;stroke-width:0.0;"/><rect fill="url(#gestpxh9yoauy0)" filter="url(#festpxh9yoauy)" height="423.3359" style="stroke:#000000;stroke-width:2.0;" width="412.5" x="151.5" y="606.4805"/><path d="M237.5,606.4805 L237.5,615.7773 L227.5,625.7773 L151.5,625.7773 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="154.5" y="620.4756">debouncer</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="162" x="272.5" y="739.582"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="142" x="282.5" y="760.7207">buttonState = reading</text><rect fill="url(#gestpxh9yoauy0)" filter="url(#festpxh9yoauy)" height="146.2656" style="stroke:#000000;stroke-width:2.0;" width="338.5" x="181.5" y="783.5508"/><path d="M271.5,783.5508 L271.5,792.8477 L261.5,802.8477 L181.5,802.8477 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="184.5" y="797.5459">debounced</text><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="284,819.8477,423,819.8477,435,831.8477,423,843.8477,284,843.8477,272,831.8477,284,819.8477" style="stroke:#A80036;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="284" y="835.6558">if (buttonState == HIGH)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="249" y="829.2534">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="435" y="829.2534">false</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="121" x="201.5" y="853.8477"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="211.5" y="874.9863">ledState = HIGH</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="117" x="386.5" y="853.8477"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="396.5" y="874.9863">ledState = LOW</text><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="353.5,893.8164,365.5,905.8164,353.5,917.8164,341.5,905.8164,353.5,893.8164" style="stroke:#A80036;stroke-width:0.0;"/><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="279.5,691.1797,427.5,691.1797,439.5,703.1797,427.5,715.1797,279.5,715.1797,267.5,703.1797,279.5,691.1797" style="stroke:#A80036;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="357.5" y="725.3901">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148" x="279.5" y="706.9878">if (reading != buttonState)</text><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="353.5,949.8164,365.5,961.8164,353.5,973.8164,341.5,961.8164,353.5,949.8164" style="stroke:#A80036;stroke-width:0.0;"/><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="211,642.7773,496,642.7773,508,654.7773,496,666.7773,211,666.7773,199,654.7773,211,642.7773" style="stroke:#A80036;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="357.5" y="676.9878">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="285" x="211" y="658.5854">if ((millis() - lastDebounceTime) &gt; debounceDelay)</text><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="353.5,993.8164,365.5,1005.8164,353.5,1017.8164,341.5,1005.8164,353.5,993.8164" style="stroke:#A80036;stroke-width:0.0;"/><path d="M10,1054.2344 L10,1079.3672 A0,0 0 0 0 10,1079.3672 L234,1079.3672 A0,0 0 0 0 234,1079.3672 L234,1072.2344 L254,1066.8008 L234,1064.2344 L234,1064.2344 L224,1054.2344 L10,1054.2344 A0,0 0 0 0 10,1054.2344 " fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M224,1054.2344 L224,1064.2344 L234,1064.2344 L224,1054.2344 " fill="url(#gestpxh9yoauy1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="16" y="1071.3013">Set LED to the state in ledState</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="199" x="254" y="1049.8164"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179" x="264" y="1070.9551">digitalWrite(ledPin, ledState)</text><rect fill="url(#gestpxh9yoauy1)" filter="url(#festpxh9yoauy)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="185" x="261" y="1103.7852"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="165" x="271" y="1124.9238">lastButtonState = reading</text><polygon fill="url(#gestpxh9yoauy2)" filter="url(#festpxh9yoauy)" points="353.5,333.8438,365.5,345.8438,353.5,357.8438,341.5,345.8438,353.5,333.8438" style="stroke:#A80036;stroke-width:0.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="165.1992" y2="242.0273"/><polygon fill="#000000" points="349.5,232.0273,353.5,242.0273,357.5,232.0273,353.5,236.0273" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="50.9531" y2="131.2305"/><polygon fill="#000000" points="349.5,121.2305,353.5,131.2305,357.5,121.2305,353.5,125.2305" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="482.1094" y2="506.5117"/><polygon fill="#000000" points="349.5,496.5117,353.5,506.5117,357.5,496.5117,353.5,500.5117" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="445.5" x2="460.5" y1="470.1094" y2="470.1094"/><polygon fill="#000000" points="456.5,513.4961,460.5,523.4961,464.5,513.4961,460.5,517.4961" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="460.5" x2="460.5" y1="470.1094" y2="572.4805"/><line style="stroke:#000000;stroke-width:1.5;" x1="460.5" x2="365.5" y1="572.4805" y2="572.4805"/><polygon fill="#000000" points="375.5,568.4805,365.5,572.4805,375.5,576.4805,371.5,572.4805" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="540.4805" y2="560.4805"/><polygon fill="#000000" points="349.5,550.4805,353.5,560.4805,357.5,550.4805,353.5,554.4805" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="411.8125" y2="458.1094"/><polygon fill="#000000" points="349.5,448.1094,353.5,458.1094,357.5,448.1094,353.5,452.1094" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="272" x2="262" y1="831.8477" y2="831.8477"/><line style="stroke:#000000;stroke-width:1.5;" x1="262" x2="262" y1="831.8477" y2="853.8477"/><polygon fill="#000000" points="258,843.8477,262,853.8477,266,843.8477,262,847.8477" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="435" x2="445" y1="831.8477" y2="831.8477"/><line style="stroke:#000000;stroke-width:1.5;" x1="445" x2="445" y1="831.8477" y2="853.8477"/><polygon fill="#000000" points="441,843.8477,445,853.8477,449,843.8477,445,847.8477" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="262" x2="262" y1="887.8164" y2="905.8164"/><line style="stroke:#000000;stroke-width:1.5;" x1="262" x2="341.5" y1="905.8164" y2="905.8164"/><polygon fill="#000000" points="331.5,901.8164,341.5,905.8164,331.5,909.8164,335.5,905.8164" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="445" x2="445" y1="887.8164" y2="905.8164"/><line style="stroke:#000000;stroke-width:1.5;" x1="445" x2="365.5" y1="905.8164" y2="905.8164"/><polygon fill="#000000" points="375.5,901.8164,365.5,905.8164,375.5,909.8164,371.5,905.8164" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="773.5508" y2="819.8477"/><polygon fill="#000000" points="349.5,809.8477,353.5,819.8477,357.5,809.8477,353.5,813.8477" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="715.1797" y2="739.582"/><polygon fill="#000000" points="349.5,729.582,353.5,739.582,357.5,729.582,353.5,733.582" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="439.5" x2="530" y1="703.1797" y2="703.1797"/><polygon fill="#000000" points="526,816.1992,530,826.1992,534,816.1992,530,820.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="530" x2="530" y1="703.1797" y2="961.8164"/><line style="stroke:#000000;stroke-width:1.5;" x1="530" x2="365.5" y1="961.8164" y2="961.8164"/><polygon fill="#000000" points="375.5,957.8164,365.5,961.8164,375.5,965.8164,371.5,961.8164" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="917.8164" y2="949.8164"/><polygon fill="#000000" points="349.5,939.8164,353.5,949.8164,357.5,939.8164,353.5,943.8164" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="666.7773" y2="691.1797"/><polygon fill="#000000" points="349.5,681.1797,353.5,691.1797,357.5,681.1797,353.5,685.1797" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="508" x2="548" y1="654.7773" y2="654.7773"/><polygon fill="#000000" points="544,816.1992,548,826.1992,552,816.1992,548,820.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="548" x2="548" y1="654.7773" y2="1005.8164"/><line style="stroke:#000000;stroke-width:1.5;" x1="548" x2="365.5" y1="1005.8164" y2="1005.8164"/><polygon fill="#000000" points="375.5,1001.8164,365.5,1005.8164,375.5,1009.8164,371.5,1005.8164" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="973.8164" y2="993.8164"/><polygon fill="#000000" points="349.5,983.8164,353.5,993.8164,357.5,983.8164,353.5,987.8164" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="584.4805" y2="642.7773"/><polygon fill="#000000" points="349.5,632.7773,353.5,642.7773,357.5,632.7773,353.5,636.7773" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="1017.8164" y2="1049.8164"/><polygon fill="#000000" points="349.5,1039.8164,353.5,1049.8164,357.5,1039.8164,353.5,1043.8164" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="1083.7852" y2="1103.7852"/><polygon fill="#000000" points="349.5,1093.7852,353.5,1103.7852,357.5,1093.7852,353.5,1097.7852" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="357.8438" y2="377.8438"/><polygon fill="#000000" points="349.5,367.8438,353.5,377.8438,357.5,367.8438,353.5,371.8438" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="1137.7539" y2="1185.7539"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="576" y1="1185.7539" y2="1185.7539"/><polygon fill="#000000" points="572,770.5,576,760.5,580,770.5,576,766.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="576" x2="576" y1="345.8438" y2="1185.7539"/><line style="stroke:#000000;stroke-width:1.5;" x1="576" x2="365.5" y1="345.8438" y2="345.8438"/><polygon fill="#000000" points="375.5,341.8438,365.5,345.8438,375.5,349.8438,371.5,345.8438" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="353.5" x2="353.5" y1="275.9961" y2="333.8438"/><polygon fill="#000000" points="349.5,323.8438,353.5,333.8438,357.5,323.8438,353.5,327.8438" style="stroke:#000000;stroke-width:1.0;"/><rect fill="url(#gestpxh9yoauy3)" height="26.2969" rx="5" ry="5" style="stroke:url(#gestpxh9yoauy3);stroke-width:0.0;" width="358" x="120.5" y="1193.7539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="346" x="126.5" y="1211.749">Debounced button in main loop (armed/disarmed)</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="200" x="200" y="1238.333">(C)2022 Sean Donnellan, Fynn Donnellan</text><!--MD5=[870a48ebfa4111ae129ddf7724b5ec99]
@startuml
title Debounced button as LED toggle
footer (C)2022 Sean Donnellan, Fynn Donnellan

skinparam activity {
  StartColor black
  BarColor black/blue
  EndColor black
  BackgroundColor #fff/green
  DiamondBackgroundColor #fff/red
  BorderColor black
  BorderThickness 0
}
skinparam note {
  BackgroundColor #fff/green
}
skinparam ArrowColor black
skinparam BackgroundColor #aaf/fff
skinparam legendBackgroundColor #fff/aaf
skinparam LegendBorderThickness 0
skinparam PartitionBackgroundColor #aaf/fff

start
  partition init {
    :Variables;
    note left
      const int buttonPin = 2;
      const int ledPin = 13;
      int ledState = HIGH;
      int buttonState;
      int lastButtonState = LOW;
      unsigned long lastDebounceTime = 0;
      unsigned long debounceDelay = 50;
    end note
    :Void setup;
    note left
      void setup() {
        pinMode(buttonPin, INPUT);
        pinMode(ledPin, OUTPUT);
        digitalWrite(ledPin, ledState);
      }
    end note
  }
	repeat
	  :int reading = digitalRead(buttonPin);
    partition timer {
      if (if reading != lastbuttonstate) then (true)
	    :lastDebounceTime = millis();
      note left
        reset the debouncing timer
      end note
      endif
    }
    partition debouncer {
      if (if ((millis() - lastDebounceTime) > debounceDelay)) then (true)
        if (if (reading != buttonState)) then (true)
          :buttonState = reading;
	        partition debounced {
          	if (if (buttonState == HIGH)) then (true)
            		:ledState = HIGH;
            else (false)
            		:ledState = LOW;
          	endif
	        }
        endif
      endif
    }
    :digitalWrite(ledPin, ledState);
    note left
    	Set LED to the state in ledState
    end note
    :lastButtonState = reading;
 

legend
Debounced button in main loop (armed/disarmed)
end legend



@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>