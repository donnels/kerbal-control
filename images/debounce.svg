<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1283px" preserveAspectRatio="none" style="width:694px;height:1283px;background:#AAAAFF;" version="1.1" viewBox="0 0 694 1283" width="694px" zoomAndPan="magnify"><defs><linearGradient id="g1us8kaflsncnk0" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#AAAAFF"/><stop offset="100%" stop-color="#FFFFFF"/></linearGradient><filter height="300%" id="f1us8kaflsncnk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter><linearGradient id="g1us8kaflsncnk1" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#008000"/></linearGradient><linearGradient id="g1us8kaflsncnk2" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#FF0000"/></linearGradient><linearGradient id="g1us8kaflsncnk3" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#AAAAFF"/></linearGradient></defs><g><rect fill="url(#g1us8kaflsncnk0)" height="1283" style="stroke:none;stroke-width:1.0;" width="694" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="291" x="200.5" y="26.708">Debounced button as LED toggle</text><ellipse cx="473.5" cy="40.9531" fill="#000000" filter="url(#f1us8kaflsncnk)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="url(#g1us8kaflsncnk0)" filter="url(#f1us8kaflsncnk)" height="252.8906" style="stroke:#000000;stroke-width:2.0;" width="386.5" x="140.5" y="60.9531"/><path d="M170.5,60.9531 L170.5,70.25 L160.5,80.25 L140.5,80.25 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="143.5" y="74.9482">init</text><path d="M150.5,90.25 L150.5,206.1797 A0,0 0 0 0 150.5,206.1797 L414.5,206.1797 A0,0 0 0 0 414.5,206.1797 L414.5,152.2148 L434.5,148.2148 L414.5,144.2148 L414.5,100.25 L404.5,90.25 L150.5,90.25 A0,0 0 0 0 150.5,90.25 " fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M404.5,90.25 L404.5,100.25 L414.5,100.25 L404.5,90.25 " fill="url(#g1us8kaflsncnk1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="156.5" y="107.3169">const int buttonPin = 2;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="156.5" y="122.4497">const int ledPin = 13;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="156.5" y="137.5825">int ledState = HIGH;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="156.5" y="152.7153">int buttonState;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="156.5" y="167.8481">int lastButtonState = LOW;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="156.5" y="182.981">unsigned long lastDebounceTime = 0;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="156.5" y="198.1138">unsigned long debounceDelay = 50;</text><rect fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="78" x="434.5" y="131.2305"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="444.5" y="152.3691">Variables</text><path d="M197,216.1797 L197,301.8438 A0,0 0 0 0 197,301.8438 L410,301.8438 A0,0 0 0 0 410,301.8438 L410,263.0117 L430,259.0117 L410,255.0117 L410,226.1797 L400,216.1797 L197,216.1797 A0,0 0 0 0 197,216.1797 " fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M400,216.1797 L400,226.1797 L410,226.1797 L400,216.1797 " fill="url(#g1us8kaflsncnk1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="203" y="233.2466">void setup() {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="211" y="248.3794">pinMode(buttonPin, INPUT);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="211" y="263.5122">pinMode(ledPin, OUTPUT);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="211" y="278.645">digitalWrite(ledPin, ledState);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="203" y="293.7778">}</text><rect fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="87" x="430" y="242.0273"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="440" y="263.166">Void setup</text><rect fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="247" x="350" y="377.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="227" x="360" y="398.9824">int reading = digitalRead(buttonPin)</text><rect fill="url(#g1us8kaflsncnk0)" filter="url(#f1us8kaflsncnk)" height="170.2656" style="stroke:#000000;stroke-width:2.0;" width="461" x="141.5" y="421.8125"/><path d="M186.5,421.8125 L186.5,431.1094 L176.5,441.1094 L141.5,441.1094 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="144.5" y="435.8076">timer</text><path d="M161.5,506.5273 L161.5,531.6602 A0,0 0 0 0 161.5,531.6602 L356.5,531.6602 A0,0 0 0 0 356.5,531.6602 L356.5,524.5273 L376.5,519.0938 L356.5,516.5273 L356.5,516.5273 L346.5,506.5273 L161.5,506.5273 A0,0 0 0 0 161.5,506.5273 " fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M346.5,506.5273 L346.5,516.5273 L356.5,516.5273 L346.5,506.5273 " fill="url(#g1us8kaflsncnk1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="167.5" y="523.5942">reset the debouncing timer</text><rect fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="194" x="376.5" y="502.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="386.5" y="523.248">lastDebounceTime = millis()</text><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="393.5,458.1094,553.5,458.1094,565.5,470.1094,553.5,482.1094,393.5,482.1094,381.5,470.1094,393.5,458.1094" style="stroke:#A80036;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="393.5" y="473.9175">if reading != lastbuttonstate</text><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="473.5,556.0781,485.5,568.0781,473.5,580.0781,461.5,568.0781,473.5,556.0781" style="stroke:#A80036;stroke-width:0.0;"/><rect fill="url(#g1us8kaflsncnk0)" filter="url(#f1us8kaflsncnk)" height="459.6797" style="stroke:#000000;stroke-width:2.0;" width="645" x="11" y="602.0781"/><path d="M97,602.0781 L97,611.375 L87,621.375 L11,621.375 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="14" y="616.0732">debouncer</text><rect fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="162" x="392.5" y="726.375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="142" x="402.5" y="747.5137">buttonState = reading</text><rect fill="url(#g1us8kaflsncnk0)" filter="url(#f1us8kaflsncnk)" height="174.9141" style="stroke:#000000;stroke-width:2.0;" width="563" x="23" y="786.8438"/><path d="M113,786.8438 L113,796.1406 L103,806.1406 L23,806.1406 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="26" y="800.8389">debounced</text><path d="M35,865.4922 L35,905.7578 A0,0 0 0 0 35,905.7578 L379,905.7578 A0,0 0 0 0 379,905.7578 L379,889.625 L399,885.625 L379,881.625 L379,875.4922 L369,865.4922 L35,865.4922 A0,0 0 0 0 35,865.4922 " fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M369,865.4922 L369,875.4922 L379,875.4922 L369,865.4922 " fill="url(#g1us8kaflsncnk1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="41" y="882.5591">This is a toggle</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="41" y="897.6919">only toggle the LED if the new button state is HIGH</text><rect fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="149" x="399" y="868.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="409" y="889.7793">ledState = !ledState</text><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="404,823.1406,543,823.1406,555,835.1406,543,847.1406,404,847.1406,392,835.1406,404,823.1406" style="stroke:#A80036;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="404" y="838.9487">if (buttonState == HIGH)</text><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="473.5,925.7578,485.5,937.7578,473.5,949.7578,461.5,937.7578,473.5,925.7578" style="stroke:#A80036;stroke-width:0.0;"/><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="399.5,682.375,547.5,682.375,559.5,694.375,547.5,706.375,399.5,706.375,387.5,694.375,399.5,682.375" style="stroke:#A80036;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148" x="399.5" y="698.1831">if (reading != buttonState)</text><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="473.5,981.7578,485.5,993.7578,473.5,1005.7578,461.5,993.7578,473.5,981.7578" style="stroke:#A80036;stroke-width:0.0;"/><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="331,638.375,616,638.375,628,650.375,616,662.375,331,662.375,319,650.375,331,638.375" style="stroke:#A80036;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="285" x="331" y="654.1831">if ((millis() - lastDebounceTime) &gt; debounceDelay)</text><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="473.5,1025.7578,485.5,1037.7578,473.5,1049.7578,461.5,1037.7578,473.5,1025.7578" style="stroke:#A80036;stroke-width:0.0;"/><path d="M130,1086.1758 L130,1111.3086 A0,0 0 0 0 130,1111.3086 L354,1111.3086 A0,0 0 0 0 354,1111.3086 L354,1104.1758 L374,1098.7422 L354,1096.1758 L354,1096.1758 L344,1086.1758 L130,1086.1758 A0,0 0 0 0 130,1086.1758 " fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M344,1086.1758 L344,1096.1758 L354,1096.1758 L344,1086.1758 " fill="url(#g1us8kaflsncnk1)" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="136" y="1103.2427">Set LED to the state in ledState</text><rect fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="199" x="374" y="1081.7578"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179" x="384" y="1102.8965">digitalWrite(ledPin, ledState)</text><rect fill="url(#g1us8kaflsncnk1)" filter="url(#f1us8kaflsncnk)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:0.0;" width="185" x="381" y="1135.7266"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="165" x="391" y="1156.8652">lastButtonState = reading</text><polygon fill="url(#g1us8kaflsncnk2)" filter="url(#f1us8kaflsncnk)" points="473.5,333.8438,485.5,345.8438,473.5,357.8438,461.5,345.8438,473.5,333.8438" style="stroke:#A80036;stroke-width:0.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="165.1992" y2="242.0273"/><polygon fill="#000000" points="469.5,232.0273,473.5,242.0273,477.5,232.0273,473.5,236.0273" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="50.9531" y2="131.2305"/><polygon fill="#000000" points="469.5,121.2305,473.5,131.2305,477.5,121.2305,473.5,125.2305" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="482.1094" y2="502.1094"/><polygon fill="#000000" points="469.5,492.1094,473.5,502.1094,477.5,492.1094,473.5,496.1094" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="565.5" x2="580.5" y1="470.1094" y2="470.1094"/><polygon fill="#000000" points="576.5,509.0938,580.5,519.0938,584.5,509.0938,580.5,513.0938" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="580.5" x2="580.5" y1="470.1094" y2="568.0781"/><line style="stroke:#000000;stroke-width:1.5;" x1="580.5" x2="485.5" y1="568.0781" y2="568.0781"/><polygon fill="#000000" points="495.5,564.0781,485.5,568.0781,495.5,572.0781,491.5,568.0781" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="536.0781" y2="556.0781"/><polygon fill="#000000" points="469.5,546.0781,473.5,556.0781,477.5,546.0781,473.5,550.0781" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="411.8125" y2="458.1094"/><polygon fill="#000000" points="469.5,448.1094,473.5,458.1094,477.5,448.1094,473.5,452.1094" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="847.1406" y2="868.6406"/><polygon fill="#000000" points="469.5,858.6406,473.5,868.6406,477.5,858.6406,473.5,862.6406" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="555" x2="567" y1="835.1406" y2="835.1406"/><polygon fill="#000000" points="563,875.625,567,885.625,571,875.625,567,879.625" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="567" x2="567" y1="835.1406" y2="937.7578"/><line style="stroke:#000000;stroke-width:1.5;" x1="567" x2="485.5" y1="937.7578" y2="937.7578"/><polygon fill="#000000" points="495.5,933.7578,485.5,937.7578,495.5,941.7578,491.5,937.7578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="902.6094" y2="925.7578"/><polygon fill="#000000" points="469.5,915.7578,473.5,925.7578,477.5,915.7578,473.5,919.7578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="760.3438" y2="823.1406"/><polygon fill="#000000" points="469.5,813.1406,473.5,823.1406,477.5,813.1406,473.5,817.1406" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="706.375" y2="726.375"/><polygon fill="#000000" points="469.5,716.375,473.5,726.375,477.5,716.375,473.5,720.375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="559.5" x2="596" y1="694.375" y2="694.375"/><polygon fill="#000000" points="592,838.6406,596,848.6406,600,838.6406,596,842.6406" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="596" x2="596" y1="694.375" y2="993.7578"/><line style="stroke:#000000;stroke-width:1.5;" x1="596" x2="485.5" y1="993.7578" y2="993.7578"/><polygon fill="#000000" points="495.5,989.7578,485.5,993.7578,495.5,997.7578,491.5,993.7578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="949.7578" y2="981.7578"/><polygon fill="#000000" points="469.5,971.7578,473.5,981.7578,477.5,971.7578,473.5,975.7578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="662.375" y2="682.375"/><polygon fill="#000000" points="469.5,672.375,473.5,682.375,477.5,672.375,473.5,676.375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="628" x2="640" y1="650.375" y2="650.375"/><polygon fill="#000000" points="636,838.6406,640,848.6406,644,838.6406,640,842.6406" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="640" x2="640" y1="650.375" y2="1037.7578"/><line style="stroke:#000000;stroke-width:1.5;" x1="640" x2="485.5" y1="1037.7578" y2="1037.7578"/><polygon fill="#000000" points="495.5,1033.7578,485.5,1037.7578,495.5,1041.7578,491.5,1037.7578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="1005.7578" y2="1025.7578"/><polygon fill="#000000" points="469.5,1015.7578,473.5,1025.7578,477.5,1015.7578,473.5,1019.7578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="580.0781" y2="638.375"/><polygon fill="#000000" points="469.5,628.375,473.5,638.375,477.5,628.375,473.5,632.375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="1049.7578" y2="1081.7578"/><polygon fill="#000000" points="469.5,1071.7578,473.5,1081.7578,477.5,1071.7578,473.5,1075.7578" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="1115.7266" y2="1135.7266"/><polygon fill="#000000" points="469.5,1125.7266,473.5,1135.7266,477.5,1125.7266,473.5,1129.7266" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="357.8438" y2="377.8438"/><polygon fill="#000000" points="469.5,367.8438,473.5,377.8438,477.5,367.8438,473.5,371.8438" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="1169.6953" y2="1217.6953"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="668" y1="1217.6953" y2="1217.6953"/><polygon fill="#000000" points="664,776.8438,668,766.8438,672,776.8438,668,772.8438" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="668" x2="668" y1="345.8438" y2="1217.6953"/><line style="stroke:#000000;stroke-width:1.5;" x1="668" x2="485.5" y1="345.8438" y2="345.8438"/><polygon fill="#000000" points="495.5,341.8438,485.5,345.8438,495.5,349.8438,491.5,345.8438" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="473.5" x2="473.5" y1="275.9961" y2="333.8438"/><polygon fill="#000000" points="469.5,323.8438,473.5,333.8438,477.5,323.8438,473.5,327.8438" style="stroke:#000000;stroke-width:1.0;"/><rect fill="url(#g1us8kaflsncnk3)" height="26.2969" rx="5" ry="5" style="stroke:url(#g1us8kaflsncnk3);stroke-width:0.0;" width="358" x="166.5" y="1225.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="346" x="172.5" y="1243.6904">Debounced button in main loop (armed/disarmed)</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="200" x="246" y="1270.2744">(C)2022 Sean Donnellan, Fynn Donnellan</text><!--MD5=[7a9f313bbba8e73edbcf831ea35a7c9d]
@startuml
title Debounced button as LED toggle
footer (C)2022 Sean Donnellan, Fynn Donnellan

skinparam activity {
  StartColor black
  BarColor black/blue
  EndColor black
  BackgroundColor #fff/green
  DiamondBackgroundColor #fff/red
  BorderColor black
  BorderThickness 0
}
skinparam note {
  BackgroundColor #fff/green
}
skinparam ArrowColor black
skinparam BackgroundColor #aaf/fff
skinparam legendBackgroundColor #fff/aaf
skinparam LegendBorderThickness 0
skinparam PartitionBackgroundColor #aaf/fff

start
  partition init {
    :Variables;
    note left
      const int buttonPin = 2;
      const int ledPin = 13;
      int ledState = HIGH;
      int buttonState;
      int lastButtonState = LOW;
      unsigned long lastDebounceTime = 0;
      unsigned long debounceDelay = 50;
    end note
    :Void setup;
    note left
      void setup() {
        pinMode(buttonPin, INPUT);
        pinMode(ledPin, OUTPUT);
        digitalWrite(ledPin, ledState);
      }
    end note
  }
	repeat
	  :int reading = digitalRead(buttonPin);
    partition timer {
      if (if reading != lastbuttonstate)
	    :lastDebounceTime = millis();
      note left
        reset the debouncing timer
      end note
      endif
    }
    partition debouncer {
      if (if ((millis() - lastDebounceTime) > debounceDelay))
        if (if (reading != buttonState))
          :buttonState = reading;
	  partition debounced {
          	if (if (buttonState == HIGH))
            		:ledState = !ledState;
            		note left
              			This is a toggle
              			only toggle the LED if the new button state is HIGH
            		end note
          	endif
	  }
        endif
      endif
    }
    :digitalWrite(ledPin, ledState);
    note left
    	Set LED to the state in ledState
    end note
    :lastButtonState = reading;
 

legend
Debounced button in main loop (armed/disarmed)
end legend



@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>